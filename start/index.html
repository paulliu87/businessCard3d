<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Designer Magazine - AR.js Tutorial</title>
    <script src='js/three.js'></script>
    <script src='js/ColladaLoader.js'></script>
    <script src='vendor/jsartoolkit5/build/artoolkit.min.js'></script>
    <script src='vendor/jsartoolkit5/js/artoolkit.api.js'></script>
    <script src='threex-artoolkitsource.js'></script>
    <script src='threex-artoolkitcontent.js'></script>
    <script src="threex-armarkercontrols.js"></script>
	<script>THREEx.ArToolkitContext.baseURL = '/'</script>
	<style>
		body {
		  margin: 0px;
		  overflow: hidden;
		}
		canvas {
		  position: absolute;
		  top: 0;
		  left: 0;
		}
	</style>
</head>

<body>
	<script type="text/javascript">
		var renderer, scene, camera;
		var arToolkitContext, onRenderFcts, arToolkitSource, markerRoot, artoolkitMarker, lastTimeMsec;
		var model, tube1, tube2, mid, details, pulse;
		var loader = new THREE.ColladaLoader();

		loader.load('model/scene.dae', function(collada) {
			model = collada.scene;
			model.scale.x = model.scale.y = model.scale.z = 0.1;
			details = model.getObjectByName("details", true);
		
			tube1 = model.getObjectByName("tube1", true);
			var a = tube1.children[0].material;
			a.transparent = true;
			a.side = THREE["BackSide"];
			a.blending = THREE["AdditiveBlending"];
			a.opacity = 0.9;

			tube2 = model.getObjectByName("tube2", true);
			c = tube2.children[0].material;
			c.transparent = true;
			c.side = THREE["backSide"];
			c.blending = THREE["AdditiveBlending"];
			c.opacity = 0.9;

			mid = model.getObjectByName("mid", true);
			b = mid.children[0].material;
			b.transparent = true;
			b.blending = THREE["AdditiveBlending"];
			b.opacity = 0.9;
			init();
		});

		function init() {
		  renderer = new THREE.WebGLRenderer({
		  alpha: true
		  });
	  renderer.setClearColor(new THREE.Color('lightgrey'), 0);
	  renderer.setSize(window.innerWidth, window.innerHeight);
	  document.body.appendChild(renderer.domElement);
	</script>

</body>

</html>
